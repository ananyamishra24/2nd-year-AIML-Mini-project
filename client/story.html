<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Story Â· Brave Story Maker</title>
  <link rel="icon" href="data:," />
  <link rel="stylesheet" href="/css/styles.css" />
</head>
<body>

<div class="viewer-root" id="viewer-root">
  <div class="viewer-bg-pattern"></div>

  <!-- HEADER -->
  <header class="viewer-header">
    <!-- Left: Home, Translate, Favourite, Font -->
    <div class="viewer-header-left">
      <a href="/" class="btn btn-icon" title="Home">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/>
        </svg>
      </a>

      <div class="popover-wrap" id="translate-wrap">
        <button class="btn btn-icon" id="translate-btn" title="Translate">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m5 8 6 6"/><path d="m4 14 6-6 2-3"/><path d="M2 5h12"/><path d="M7 2h1"/>
            <path d="m22 22-5-10-5 10"/><path d="M14 18h6"/>
          </svg>
        </button>
        <div class="popover-panel hidden" id="translate-panel">
          <p class="popover-title">Translate Story</p>
          <div class="popover-row">
            <label class="popover-label" for="lang-select">Language</label>
            <select class="popover-select" id="lang-select">
              <option value="en">ğŸ‡¬ğŸ‡§ English</option>
              <option value="hi">ğŸ‡®ğŸ‡³ Hindi</option>
              <option value="bn">ğŸ‡®ğŸ‡³ Bengali</option>
              <option value="ta">ğŸ‡®ğŸ‡³ Tamil</option>
              <option value="te">ğŸ‡®ğŸ‡³ Telugu</option>
              <option value="mr">ğŸ‡®ğŸ‡³ Marathi</option>
              <option value="gu">ğŸ‡®ğŸ‡³ Gujarati</option>
              <option value="kn">ğŸ‡®ğŸ‡³ Kannada</option>
              <option value="ml">ğŸ‡®ğŸ‡³ Malayalam</option>
              <option value="pa">ğŸ‡®ğŸ‡³ Punjabi</option>
              <option value="ur">ğŸ‡µğŸ‡° Urdu</option>
              <option value="or">ğŸ‡®ğŸ‡³ Odia</option>
              <option value="as">ğŸ‡®ğŸ‡³ Assamese</option>
              <option value="sa">ğŸ‡®ğŸ‡³ Sanskrit</option>
              <option value="es">ğŸ‡ªğŸ‡¸ Spanish</option>
              <option value="fr">ğŸ‡«ğŸ‡· French</option>
              <option value="de">ğŸ‡©ğŸ‡ª German</option>
              <option value="zh">ğŸ‡¨ğŸ‡³ Chinese</option>
              <option value="ja">ğŸ‡¯ğŸ‡µ Japanese</option>
              <option value="ar">ğŸ‡¸ğŸ‡¦ Arabic</option>
            </select>
          </div>
          <button class="btn btn-primary btn-sm" id="translate-go" style="width:100%">Translate</button>
          <button class="btn btn-ghost btn-sm" id="translate-reset" style="width:100%;margin-top:.4rem">Reset to English</button>
        </div>
      </div>

      <button class="btn btn-icon" id="fav-btn" title="Add to favourites">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="fav-icon">
          <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
        </svg>
      </button>

      <button class="btn btn-icon" id="font-toggle-btn" title="Toggle font style">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="13.5" cy="6.5" r=".5" fill="currentColor"/><circle cx="17.5" cy="10.5" r=".5" fill="currentColor"/>
          <circle cx="8.5" cy="7.5" r=".5" fill="currentColor"/><circle cx="6.5" cy="12.5" r=".5" fill="currentColor"/>
          <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/>
        </svg>
      </button>
    </div>

    <!-- Centre: page counter -->
    <div class="page-badge" id="page-badge">Page 1 of 1</div>

    <!-- Right: Play (big green), Reset, Volume, Settings -->
    <div class="viewer-header-right">
      <button class="btn-play-big" id="narrate-btn" title="Read Aloud">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"
          fill="white" stroke="none" id="narrate-icon">
          <polygon points="5 3 19 12 5 21 5 3"/>
        </svg>
      </button>

      <button class="btn btn-icon" id="reset-btn" title="Restart narration">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
          <path d="M3 3v5h5"/>
        </svg>
      </button>

      <div class="popover-wrap" id="narrate-wrap">
        <button class="btn btn-icon" id="volume-btn" title="Audio settings">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
            <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
          </svg>
        </button>
        <div class="popover-panel hidden" id="narrate-panel">
          <p class="popover-title">Read Aloud</p>
          <div class="popover-row">
            <label class="popover-label">Speed: <span id="speed-val">0.9Ã—</span></label>
            <input type="range" class="narration-range" id="speed-range" min="0.5" max="1.8" step="0.1" value="0.9" />
          </div>
          <div class="popover-row" id="voice-row">
            <label class="popover-label" for="voice-select">Voice</label>
            <select class="popover-select" id="voice-select"></select>
          </div>
        </div>
      </div>

      <button class="btn btn-icon" id="settings-btn" title="Settings" style="display:none"></button>
    </div>
  </header>

  <!-- MAIN -->
  <main class="viewer-main">
    <div class="story-page-card fade-in" id="story-card">
      <!-- Image side -->
      <div class="story-img-side">
        <div class="story-img-placeholder" id="img-placeholder">
          <span id="img-page-label" class="img-page-label">Page 1</span>
        </div>
        <img id="story-img" src="" alt="" style="display:none" />
        <div class="story-img-gradient"></div>
      </div>

      <!-- Text side -->
      <div class="story-text-side">
        <div id="story-text-content"></div>
      </div>
    </div>
  </main>

  <!-- FOOTER NAV -->
  <footer class="viewer-footer">
    <button class="btn btn-secondary btn-lg" id="prev-btn">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M15 18l-6-6 6-6"/>
      </svg>
      Back
    </button>
    <button class="btn btn-primary btn-lg" id="next-btn">
      Next
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M9 18l6-6-6-6"/>
      </svg>
    </button>
  </footer>
</div>

<!-- TOAST -->
<div class="toast-container" id="toast-container"></div>

<script src="/js/story.js"></script>
</body>
</html>
